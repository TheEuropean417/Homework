<!doctype html>
<html lang="en" class="h-full antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Homework Pro</title>
  <meta name="color-scheme" content="dark light" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Ctext y='50' x='10' font-size='48'%3E%F0%9F%93%9A%3C/text%3E%3C/svg%3E">
  <link rel="stylesheet" href="assets/css/styles.css" />
</head>
<body>
  <header class="glass header">
    <div class="wrap header-inner">
      <div class="brand">
        <div class="brand-icon">ðŸ“š</div>
        <div>
          <div class="brand-title">Homework Pro</div>
          <div class="brand-sub">Manage past, present, and upcoming assignments</div>
        </div>
      </div>
      <div class="toolbar">
        <button id="syncBtn" class="btn">Sync Classroom</button>
        <button id="notifyBtn" class="btn btn-mint">Send Reminders</button>
      </div>
    </div>
  </header>

  <main class="wrap main">
    <!-- Stats -->
    <section class="row cols-4">
      <div class="card glass"><div class="muted">Due Today</div><div id="statDueToday" class="stat-num">0</div><div id="statDueTodayHint" class="stat-hint">â€”</div></div>
      <div class="card glass"><div class="muted">Due Tomorrow</div><div id="statDueTomorrow" class="stat-num">0</div><div id="statDueTomorrowHint" class="stat-hint">â€”</div></div>
      <div class="card glass"><div class="muted">Upcoming (7d)</div><div id="statUpcoming" class="stat-num">0</div><div id="statUpcomingHint" class="stat-hint">â€”</div></div>
      <div class="card glass"><div class="muted">Late</div><div id="statLate" class="stat-num danger">0</div><div id="statLateHint" class="stat-hint">â€”</div></div>
    </section>

    <!-- Filters -->
    <section class="card glass filters">
      <div class="row cols-4">
        <label><div class="muted label">Student</div><select id="filterStudent"><option value="">All</option></select></label>
        <label><div class="muted label">Course</div><select id="filterCourse"><option value="">All</option></select></label>
        <label><div class="muted label">Status</div>
          <select id="filterStatus">
            <option value="">Any</option><option>DUE_TODAY</option><option>DUE_TOMORROW</option><option>UPCOMING</option><option>LATE</option><option>COMPLETED</option>
          </select>
        </label>
        <label><div class="muted label">Window</div>
          <select id="filterWindow">
            <option>ALL</option><option>TODAY</option><option>TOMORROW</option><option>WEEK</option><option>PAST</option>
          </select>
        </label>
      </div>
      <div class="toolbar end">
        <button id="addRouteBtn" class="btn">Add Recipient</button>
        <button id="manageTemplatesBtn" class="btn">Templates</button>
      </div>
    </section>

    <!-- Table -->
    <section class="glass table-wrap">
      <div class="table-head">
        <div class="table-title">Assignments</div>
        <div class="toolbar">
          <input id="searchBox" type="search" placeholder="Searchâ€¦">
          <select id="sortSelect">
            <option value="dueAsc">Sort: Due â†‘</option>
            <option value="dueDesc">Sort: Due â†“</option>
            <option value="courseAsc">Course Aâ€“Z</option>
            <option value="courseDesc">Course Zâ€“A</option>
          </select>
        </div>
      </div>
      <div class="table-scroll">
        <table class="table">
          <thead><tr class="muted"><th>Course</th><th>Title</th><th>Student</th><th>Due</th><th>Status</th><th class="right">Actions</th></tr></thead>
          <tbody id="assignmentTbody"></tbody>
        </table>
        <div id="emptyState" class="muted empty">No assignments to display.</div>
      </div>
      <div class="table-foot">
        <div id="tableCount" class="muted small">0 items</div>
        <div class="toolbar">
          <button id="prevPage" class="btn" disabled>Prev</button>
          <button id="nextPage" class="btn">Next</button>
        </div>
      </div>
    </section>

    <!-- Recipients -->
    <section class="card glass">
      <div class="row between">
        <div class="section-title">Recipients & Routing</div>
        <button id="refreshRoutesBtn" class="btn">Refresh</button>
      </div>
      <div id="routesGrid" class="routes-grid"></div>
    </section>
  </main>

  <!-- Add/Edit Route Modal -->
  <dialog id="routeModal">
    <form method="dialog" class="glass modal">
      <div class="row between">
        <div id="routeModalTitle" class="modal-title">Add Recipient</div>
        <button value="cancel" class="btn">âœ•</button>
      </div>
      <div class="row cols-2 modal-grid">
        <label class="muted">Student<br><select id="routeStudent" class="w100"></select></label>
        <label class="muted">Channel<br><select id="routeChannel"><option>SMS</option><option>EMAIL</option></select></label>
        <label class="muted">Destination<br><input id="routeDestination" placeholder="+14175550123 or name@example.com"></label>
        <label class="muted">Policy<br>
          <select id="routePolicy">
            <option value='{"when":"DUE_TOMORROW","hour":19,"tz":"America/Chicago"}'>Due Tomorrow, 7:00pm</option>
            <option value='{"when":"DUE_TODAY","hour":17,"tz":"America/Chicago"}'>Due Today, 5:00pm</option>
          </select>
        </label>
        <label class="muted col-span-2">Template<br><select id="routeTemplate" class="w100"></select></label>
      </div>
      <div class="row end gap">
        <button value="cancel" class="btn">Cancel</button>
        <button id="routeSaveBtn" type="button" class="btn btn-mint">Save</button>
      </div>
    </form>
  </dialog>

  <!-- Reminder Preview Modal -->
  <dialog id="reminderModal">
    <form method="dialog" class="glass modal">
      <div class="row between">
        <div class="modal-title">Reminder Preview</div>
        <button value="cancel" class="btn">âœ•</button>
      </div>
      <div id="reminderSummary" class="muted small" style="margin-top:6px"></div>
      <div id="reminderList" class="reminder-list"></div>
      <div class="row end gap" style="margin-top:12px">
        <button id="copyAllBtn" type="button" class="btn">Copy All</button>
        <button value="cancel" class="btn btn-mint">Close</button>
      </div>
    </form>
  </dialog>

  <!-- Toast -->
  <div class="toast" id="toast" style="display:none"><div class="card glass" id="toastMsg">Saved.</div></div>

  <!-- App -->
  <script type="module" src="assets/js/main.js"></script>
</body>
</html>
